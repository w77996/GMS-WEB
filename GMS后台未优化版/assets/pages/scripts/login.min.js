var Login = function() {
	var e = function() {
			$(".login-form").validate({
				errorElement: "span",
				errorClass: "help-block",
				focusInvalid: !1,
				rules: {
					username: {
						required: !0
					},
					password: {
						required: !0
					},
					remember: {
						required: !1
					}
				},
				messages: {
					username: {
						required: "登录名不能为空！"
					},
					password: {
						required: "密码不能为空！"
					}
				},
				invalidHandler: function(e, r) {
					$(".alert-danger", $(".login-form")).show()
				},
				highlight: function(e) {
					$(e).closest(".form-group").addClass("has-error")
				},
				success: function(e) {
					e.closest(".form-group").removeClass("has-error"), e.remove()
				},
				errorPlacement: function(e, r) {
					e.insertAfter(r.closest(".input-icon"))
				},
				submitHandler: function(e) {
					e.submit()
				}
			}), $(".login-form input").keypress(function(e) {
				return 13 == e.which ? ($(".login-form").validate().form() && $(".login-form").submit(), !1) : void 0
			})
		},
		i = function() {
			function e(e) {
				if(!e.id) return e.text;
				var r = $('<span><img src="../assets/global/img/flags/' + e.element.value.toLowerCase() + '.png" class="img-flag" /> ' + e.text + "</span>");
				return r
			}
			jQuery().select2 && $("#country_list").size() > 0 && ($("#country_list").select2({
				placeholder: '<i class="fa fa-map-marker"></i>&nbsp;Select a Country',
				templateResult: e,
				templateSelection: e,
				width: "auto",
				escapeMarkup: function(e) {
					return e
				}
			})
		};
	return {
		init: function() {
			e(),  i()
		}
	}
}();
jQuery(document).ready(function() {
	Login.init()
});